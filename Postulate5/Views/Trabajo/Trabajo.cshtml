<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Trabajos</title>
    <link rel="stylesheet" href="~/css/Trabajo.css" asp-append-version="true" />
    <script src="~/js/Trabajo.1.0.0.js"></script>
</head>

<body>
    <h1 class="tit">Mis trabajos <i class="fa-solid fa-screwdriver-wrench"></i></h1>
    <p class="parrafo_trabajo"><i class="fa-solid fa-exclamation"></i> En esta seccion se encuentan tus trabajos y los trabajos asociados a tus servicios publicados</p>
    <!-- Botón -->
    <div class="boton-container">
        <button type="button" class="btn btn-primary boton" data-bs-toggle="modal"
            data-bs-target="#agregarTrabajo"> <i class="fa-solid fa-plus boton_agregar"></i> Agregar Trabajo</button>
    </div>
    <!--  Contenedor  card -->
    <div class="contenedor-card" id="TrabajoID">
        <div id="contenedorCards" class="row"></div>
    </div>

   
    <div class="modal fade" id="agregarTrabajo" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog  modal-xl">
            <div class="modal-content modal_style">
                <div class="modal-header">
                    <h1 class="modal-title" id="exampleModalLabel" style="color: white;">Nuevo Trabajo</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form  method="post" class="row g-3">
                        <input type="hidden" id="TrabajoID" value ="0">
                          
    
                        <input type="hidden" id="PersonaID" value="@ViewBag.PersonaIDLogueada" />
  <div class="col-md-6">
        <div class="mb-3">
            <label for="NombrePersona" class="form-label">Nombre</label>
            <input type="text" id="NombrePersona" class="form-control form-control-lg"
                   value="@ViewBag.NombrePersonaLogueada" readonly />
        </div>

        <div class="mb-3">
            <label for="direccion" class="form-label">Direccion</label>
            <input type="text" id="direccion" class="form-control form-control-lg" placeholder="Direccion">
        </div>

     <div class="mb-3">
        <label for="fecha" class="form-label">Fecha</label>
        <input type="date" id="fecha" name="fecha" class="form-control form-control-lg"
               value="@DateTime.Now.ToString("yyyy-MM-dd")">
    </div>
        <div class="mb-3">
            <label for="hora" class="form-label">Hora solicitada</label>
            <input type="datetime-local" id="hora" class="form-control"
                   value="@DateTime.Now.ToString("yyyy-MM-ddTHH:mm")">
        </div>
    </div>
                             <div class="col-md-6">
        <div class="mb-3">
            <label for="ProfesionID" class="form-label">Profesion</label>
            @Html.DropDownList("ProfesionID", null, htmlAttributes: new { @class = "form-control form-control-lg" })
        </div>

        <div class="mb-3">
            <label for="comentario" class="form-label">Comentario</label>
            <input type="text" id="comentario" class="form-control Tamaño_input" placeholder="Comentario">
        </div>

        <div class="mb-3">
            <label for="descripcion" class="form-label">Descripción</label>
            <input type="text" id="descripcion" class="form-control Tamaño_input" placeholder="Descripción">
        </div>
    </div>
                     
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" onclick="agregarTrabajo()">Guardar cambios</button>
                </div>
            </div>
        </div>
    </div>








<!-- Modal para mostrar servicios -->
<div class="modal fade" id="serviciosModal" tabindex="-1" role="dialog" aria-labelledby="serviciosModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="serviciosModalLabel">Personas con servicios Servicios relacionados con Este trabajo</h5>
    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </button>
      </div>
      <div class="modal-body">
        <table class="table table-bordered">
          <thead>
            <tr>
              
              <th>Nombre Persona</th>
            </tr>
          </thead>
          <tbody id="tbody-Contratos">
            

            
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
   <button type="button" onclick="LimpiarModal();" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
      </div>
    </div>
  </div>
</div>






<table class="table table-striped">
    <thead>
        <tr>
           
            <th>Fecha de Solicitud</th>
            <th>Estado</th>
            <th>Responder</th>
        </tr>
    </thead>
    <tbody id="solicitudesPendientesBody">
        <!-- Aquí se llenarán las filas con las solicitudes traídas -->
    </tbody>
</table>








    

    @section Scripts {
        <script src="~/js/Trabajo.1.0.0.js"></script>
    }
</body>

</html>
 